<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ movie.title }} Details</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'adminpanelcss/moviedetail.css' %}">
</head>

<body>
    <div class="back-button-container">
        <a href="{% url 'admin_dashboard' %}" class="admin-back-button">
            &larr; Back to Admin Panel
        </a>
    </div>
    <div class="movie-detail-container">
        <header class="movie-header">
            {% if movie.main_image %}
            <img src="{{ movie.main_image.url }}" alt="{{ movie.title }} Poster" class="movie-poster">
            {% endif %}

            <div class="header-content">
                <h1 class="title">{{ movie.title }}</h1>
                <div class="main-details-group">
                    <span class="detail-pill"><strong>Genre:</strong> {{ movie.genre }}</span>
                    <span class="detail-pill"><strong>Language:</strong> {{ movie.language }}</span>
                    <span class="detail-pill"><strong>Duration:</strong> {{ movie.duration }}</span>
                </div>
            </div>
        </header>

        <section class="plot-summary">
            <h2>Plot Summary</h2>
            <p>{{ movie.description }}</p>
        </section>

        <section class="cast-crew-section">
            <h2>Cast and Crew</h2>
            <div class="cast-crew-list">
                {% for i in movie.castcrew.all %}
                <div class="cast-crew-member">
                    {% if i.profile_image %}
                    <img src="{{ i.profile_image.url }}" alt="{{ i.name }}" class="profile-image">
                    {% else %}
                    <div class="profile-image placeholder">?</div>
                    {% endif %}
                    <strong class="member-name">{{ i.name }}</strong>
                    <span class="member-role">{{ i.role }}</span>
                </div>
                {% empty %}
                <p>No cast and crew available for this movie.</p>
                {% endfor %}
            </div>
        </section>
    </div>
</body>

</html>